module Definitions
  module SimpleUrl

    INITIAL = 'A'

    EPSILON = 'e'

    RULES = {"A" => {1 => ["B"], 2 => ["C"], 3 => ["D"], 4 => ["E"]},
             "B" => {5 => ["h", "G", "B'"]},
             "B'" => {6 => ["e"], 7 => ["/", "J", "B''"], 8 => ["?", "K"]},
             "B''" => {9 => ["e"], 10 => ["?", "K"]},
             "C" => {11 => ["f", "F", "/", "J"]},
             "D" => {12 => ["t", "F"]},
             "E" => {13 => ["m", "O", "@", "H"]},
             "F" => {14 => ["d", "F''"], 15 => ["l", "F''"]},
             "F'" => {16 => ["@", "G"], 17 => [":", "M", "@", "G"]},
             "F''" => {18 => ["e"], 19 => [":", "F''''"], 57 => [".", "H", "G'"], 58 => ["@", "G"], 59 => ["l", "F'''"], 60 => ["d", "F'''"]},
             "F'''" => {61 => ["e"], 62 => [":", "F''''"], 63 => [".", "H", "G'"], 64 => ["@", "G"], 65 => ["L", "F'"]},
             "F''''" => {66 => ["d", "F'''''"], 67 => ["l", "M'", "@", "G"]},
             "F'''''" => {68 => ["e"], 69 => ["@", "G"], 70 => ["l", "N", "@", "G"], 71 => ["d", "F''''''"]},
             "F''''''" => {72 => ["@", "G"], 73 => ["l", "N", "@", "G"], 74 => ["d", "F''''''"]},
             "G" => {20 => ["H", "G'"]}, "G'" => {21 => ["e"], 22 => [":", "I"]},
             "H" => {23 => ["O", "H'"]}, "H'" => {24 => ["e"], 25 => [".", "H"]},
             "I" => {26 => ["d", "Q'"]},
             "J" => {81 => ["e"], 82 => ["/", "J"], 83 => ["l", "N", "J'"], 84 => ["d", "N", "J'"]},
             "J'" => {28 => ["e"], 29 => ["/", "J"]},
             "K" => {30 => ["O", "K'"]}, "K'" => {31 => ["e"], 32 => ["+", "K"]},
             "L" => {33 => ["d", "L'"], 34 => ["l", "L'"]},
             "L'" => {35 => ["e"], 36 => ["L"]},
             "M" => {37 => ["d", "M'"], 38 => ["l", "M'"]},
             "M'" => {39 => ["e"], 40 => ["l", "N"], 41 => ["d", "N"]},
             "N" => {42 => ["e"], 43 => ["l", "N"], 44 => ["d", "N"]},
             "O" => {45 => ["d", "O'"], 46 => ["l", "O'"]}, "O'" => {47 => ["e"], 48 => ["l", "N"], 49 => ["d", "N"]},
             "P" => {50 => ["l"], 51 => ["d"]},
             "Q" => {52 => ["d", "Q'"]}, "Q'" => {53 => ["Q"], 54 => ["e"]},
             "R" => {55 => ["l"]},
             "S" => {56 => ["d"]}}


    TABLE = {
        "A" => {"h" => 1, "f" => 2, "t" => 3, "m" => 4},
        "B" => {"h" => 5},
        "B'" => {"?" => 8, "/" => 7, "$" => 6},
        "B''" => {"?" => 10, "$" => 9},
        "C" => {"f" => 11},
        "D" => {"t" => 12},
        "E" => {"m" => 13},
        "F" => {"d" => 14, "l" => 15},
        "F'" => {":" => 17, "@" => 16},
        "F''" => {"." => 57, "/" => 18, ":" => 19, "@" => 58, "d" => 60, "l" => 59, "$" => 18},
        "F'''" => {"." => 63, "/" => 61, ":" => 62, "@" => 64, "d" => 65, "l" => 65, "$" => 61},
        "F''''" => {"d" => 66, "l" => 67}, "F'''''" => {"/" => 68, "@" => 69, "d" => 71, "l" => 70, "$" => 68},
        "F''''''" => {"@" => 72, "d" => 74, "l" => 73},
        "G" => {"d" => 20, "l" => 20},
        "G'" => {"?" => 21, "/" => 21, ":" => 22, "$" => 21},
        "H" => {"d" => 23, "l" => 23},
        "H'" => {"." => 25, "?" => 24, "/" => 24, ":" => 24, "$" => 24},
        "I" => {"d" => 26}, "J" => {"?" => 81, "/" => 82, "d" => 84, "l" => 83, "$" => 81},
        "J'" => {"?" => 28, "/" => 29, "$" => 28},
        "K" => {"d" => 30, "l" => 30},
        "K'" => {"+" => 32, "$" => 31},
        "L" => {"d" => 33, "l" => 34},
        "L'" => {":" => 35, "@" => 35, "d" => 36, "l" => 36},
        "M" => {"d" => 37, "l" => 38},
        "M'" => {"@" => 39, "d" => 41, "l" => 40},
        "N" => {"." => 42, "?" => 42, "/" => 42, ":" => 42, "@" => 42, "d" => 44, "l" => 43, "+" => 42, "$" => 42},
        "O" => {"d" => 45, "l" => 46},
        "O'" => {"." => 47, "?" => 47, "/" => 47, ":" => 47, "@" => 47, "d" => 49, "l" => 48, "+" => 47, "$" => 47},
        "P" => {"d" => 51, "l" => 50}, "Q" => {"d" => 52},
        "Q'" => {"?" => 54, "/" => 54, "d" => 53, "$" => 54},
        "R" => {"l" => 55}, "S" => {"d" => 56}}


    REPLACES = [
        ['http://', 'h'],
        ['ftp://', 'f'],
        ['telnet://', 't'],
        ['mailto::', 'm'],
        [:letters, 'l'],
        [:digits, 'd']
    ]

  end
end
